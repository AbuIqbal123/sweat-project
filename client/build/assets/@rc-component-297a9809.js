import{c as w,f as it,g as dr,e as U,h as Et}from"./@babel-4c4c4ede.js";import{r as a}from"./react-30d6747a.js";import{r as vt}from"./react-dom-13020a9b.js";import{c as Vr,a as A,d as Nt,u as xt,r as ft,s as _r,e as Rt,f as Wt,h as zt,i as $e,j as ut,k as Bt,l as dt,g as lt,m as Ht,n as It,o as Vt}from"./rc-util-eb9ad177.js";import{c as rr}from"./classnames-51c89ac5.js";import{R as kt}from"./rc-resize-observer-c69e3db4.js";import{C as Lt}from"./rc-motion-332894bc.js";var Tt=a.createContext(null),mt=[];function _t(e,t){var r=a.useState(function(){if(!Vr())return null;var g=document.createElement("div");return g}),o=w(r,1),n=o[0],i=a.useRef(!1),l=a.useContext(Tt),s=a.useState(mt),h=w(s,2),d=h[0],y=h[1],c=l||(i.current?void 0:function(g){y(function(P){var D=[g].concat(it(P));return D})});function C(){n.parentElement||document.body.appendChild(n),i.current=!0}function f(){var g;(g=n.parentElement)===null||g===void 0||g.removeChild(n),i.current=!1}return A(function(){return e?l?l(C):C():f(),f},[e]),A(function(){d.length&&(d.forEach(function(g){return g()}),y(mt))},[d]),[n,c]}function Ft(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var At="rc-util-locker-".concat(Date.now()),ht=0;function Ut(e){var t=!!e,r=a.useState(function(){return ht+=1,"".concat(At,"_").concat(ht)}),o=w(r,1),n=o[0];A(function(){if(t){var i=Nt(document.body).width,l=Ft();xt(`
html body {
  overflow-y: hidden;
  `.concat(l?"width: calc(100% - ".concat(i,"px);"):"",`
}`),n)}else ft(n);return function(){ft(n)}},[t,n])}var gt=!1;function qt(e){return typeof e=="boolean"&&(gt=e),gt}var yt=function(t){return t===!1?!1:!Vr()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},$t=a.forwardRef(function(e,t){var r=e.open,o=e.autoLock,n=e.getContainer;e.debug;var i=e.autoDestroy,l=i===void 0?!0:i,s=e.children,h=a.useState(r),d=w(h,2),y=d[0],c=d[1],C=y||r;a.useEffect(function(){(l||r)&&c(r)},[r,l]);var f=a.useState(function(){return yt(n)}),g=w(f,2),P=g[0],D=g[1];a.useEffect(function(){var _=yt(n);D(_??null)});var N=_t(C&&!P),R=w(N,2),M=R[0],v=R[1],B=P??M;Ut(o&&r&&Vr()&&(B===M||B===document.body));var q=null;if(s&&_r(s)&&t){var J=s;q=J.ref}var X=Rt(q,t);if(!C||!Vr()||P===void 0)return null;var ee=B===!1||qt(),V=s;return t&&(V=a.cloneElement(s,{ref:X})),a.createElement(Tt.Provider,{value:v},ee?V:vt.createPortal(V,B))});function jt(e){var t=e.prefixCls,r=e.align,o=e.arrow,n=e.arrowPos,i=o||{},l=i.className,s=i.content,h=n.x,d=h===void 0?0:h,y=n.y,c=y===void 0?0:y,C=a.useRef();if(!r||!r.points)return null;var f={position:"absolute"};if(r.autoArrow!==!1){var g=r.points[0],P=r.points[1],D=g[0],N=g[1],R=P[0],M=P[1];D===R||!["t","b"].includes(D)?f.top=c:D==="t"?f.top=0:f.bottom=0,N===M||!["l","r"].includes(N)?f.left=d:N==="l"?f.left=0:f.right=0}return a.createElement("div",{ref:C,className:rr("".concat(t,"-arrow"),l),style:f},s)}function Qt(e){var t=e.prefixCls,r=e.open,o=e.zIndex,n=e.mask,i=e.motion;return n?a.createElement(Lt,dr({},i,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(l){var s=l.className;return a.createElement("div",{style:{zIndex:o},className:rr("".concat(t,"-mask"),s)})}):null}var Jt=a.memo(function(e){var t=e.children;return t},function(e,t){return t.cache}),Gt=a.forwardRef(function(e,t){var r=e.popup,o=e.className,n=e.prefixCls,i=e.style,l=e.target,s=e.onVisibleChanged,h=e.open,d=e.keepDom,y=e.fresh,c=e.onClick,C=e.mask,f=e.arrow,g=e.arrowPos,P=e.align,D=e.motion,N=e.maskMotion,R=e.forceRender,M=e.getPopupContainer,v=e.autoDestroy,B=e.portal,q=e.zIndex,J=e.onMouseEnter,X=e.onMouseLeave,ee=e.onPointerEnter,V=e.ready,_=e.offsetX,fe=e.offsetY,de=e.offsetR,le=e.offsetB,j=e.onAlign,x=e.onPrepare,b=e.stretch,G=e.targetWidth,k=e.targetHeight,K=typeof r=="function"?r():r,tr=h||d,re=(M==null?void 0:M.length)>0,ar=a.useState(!M||!re),Fe=w(ar,2),se=Fe[0],Ae=Fe[1];if(A(function(){!se&&re&&l&&Ae(!0)},[se,re,l]),!se)return null;var F="auto",H={left:"-1000vw",top:"-1000vh",right:F,bottom:F};if(V||!h){var te,ve=P.points,Ue=P.dynamicInset||((te=P._experimental)===null||te===void 0?void 0:te.dynamicInset),qe=Ue&&ve[0][1]==="r",me=Ue&&ve[0][0]==="b";qe?(H.right=de,H.left=F):(H.left=_,H.right=F),me?(H.bottom=le,H.top=F):(H.top=fe,H.bottom=F)}var Z={};return b&&(b.includes("height")&&k?Z.height=k:b.includes("minHeight")&&k&&(Z.minHeight=k),b.includes("width")&&G?Z.width=G:b.includes("minWidth")&&G&&(Z.minWidth=G)),h||(Z.pointerEvents="none"),a.createElement(B,{open:R||tr,getContainer:M&&function(){return M(l)},autoDestroy:v},a.createElement(Qt,{prefixCls:n,open:h,zIndex:q,mask:C,motion:N}),a.createElement(kt,{onResize:j,disabled:!h},function(je){return a.createElement(Lt,dr({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:R,leavedClassName:"".concat(n,"-hidden")},D,{onAppearPrepare:x,onEnterPrepare:x,visible:h,onVisibleChanged:function(he){var S;D==null||(S=D.onVisibleChanged)===null||S===void 0||S.call(D,he),s(he)}}),function(ae,he){var S=ae.className,Qe=ae.style,ge=rr(n,S,o);return a.createElement("div",{ref:Wt(je,t,he),className:ge,style:U(U(U(U({"--arrow-x":"".concat(g.x||0,"px"),"--arrow-y":"".concat(g.y||0,"px")},H),Z),Qe),{},{boxSizing:"border-box",zIndex:q},i),onMouseEnter:J,onMouseLeave:X,onPointerEnter:ee,onClick:c},f&&a.createElement(jt,{prefixCls:n,arrow:f,arrowPos:g,align:P}),a.createElement(Jt,{cache:!h&&!y},K))})}))}),Kt=a.forwardRef(function(e,t){var r=e.children,o=e.getTriggerDOMNode,n=_r(r),i=a.useCallback(function(s){zt(t,o?o(s):s)},[o]),l=Rt(i,r.ref);return n?a.cloneElement(r,{ref:l}):r}),Ct=a.createContext(null);function Mt(e){return e?Array.isArray(e)?e:[e]:[]}function Zt(e,t,r,o){return a.useMemo(function(){var n=Mt(r??t),i=Mt(o??t),l=new Set(n),s=new Set(i);return e&&(l.has("hover")&&(l.delete("hover"),l.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[l,s]},[e,t,r,o])}function Yt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Xt(e,t,r,o){for(var n=r.points,i=Object.keys(e),l=0;l<i.length;l+=1){var s,h=i[l];if(Yt((s=e[h])===null||s===void 0?void 0:s.points,n,o))return"".concat(t,"-placement-").concat(h)}return""}function bt(e,t,r,o){return t||(r?{motionName:"".concat(e,"-").concat(r)}:o?{motionName:o}:null)}function hr(e){return e.ownerDocument.defaultView}function st(e){for(var t=[],r=e==null?void 0:e.parentElement,o=["hidden","scroll","clip","auto"];r;){var n=hr(r).getComputedStyle(r),i=n.overflowX,l=n.overflowY,s=n.overflow;[i,l,s].some(function(h){return o.includes(h)})&&t.push(r),r=r.parentElement}return t}function mr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?t:e}function fr(e){return mr(parseFloat(e),0)}function St(e,t){var r=U({},e);return(t||[]).forEach(function(o){if(!(o instanceof HTMLBodyElement||o instanceof HTMLHtmlElement)){var n=hr(o).getComputedStyle(o),i=n.overflow,l=n.overflowClipMargin,s=n.borderTopWidth,h=n.borderBottomWidth,d=n.borderLeftWidth,y=n.borderRightWidth,c=o.getBoundingClientRect(),C=o.offsetHeight,f=o.clientHeight,g=o.offsetWidth,P=o.clientWidth,D=fr(s),N=fr(h),R=fr(d),M=fr(y),v=mr(Math.round(c.width/g*1e3)/1e3),B=mr(Math.round(c.height/C*1e3)/1e3),q=(g-P-R-M)*v,J=(C-f-D-N)*B,X=D*B,ee=N*B,V=R*v,_=M*v,fe=0,de=0;if(i==="clip"){var le=fr(l);fe=le*v,de=le*B}var j=c.x+V-fe,x=c.y+X-de,b=j+c.width+2*fe-V-_-q,G=x+c.height+2*de-X-ee-J;r.left=Math.max(r.left,j),r.top=Math.max(r.top,x),r.right=Math.min(r.right,b),r.bottom=Math.min(r.bottom,G)}}),r}function wt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(t),o=r.match(/^(.*)\%$/);return o?e*(parseFloat(o[1])/100):parseFloat(r)}function Pt(e,t){var r=t||[],o=w(r,2),n=o[0],i=o[1];return[wt(e.width,n),wt(e.height,i)]}function Dt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function er(e,t){var r=t[0],o=t[1],n,i;return r==="t"?i=e.y:r==="b"?i=e.y+e.height:i=e.y+e.height/2,o==="l"?n=e.x:o==="r"?n=e.x+e.width:n=e.x+e.width/2,{x:n,y:i}}function Te(e,t){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(o,n){return n===t?r[o]||"c":o}).join("")}function Ot(e,t,r,o,n,i,l){var s=a.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:n[o]||{}}),h=w(s,2),d=h[0],y=h[1],c=a.useRef(0),C=a.useMemo(function(){return t?st(t):[]},[t]),f=a.useRef({}),g=function(){f.current={}};e||g();var P=$e(function(){if(t&&r&&e){let p=function(Se,_e){var Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Qe,pe=k.x+Se,vr=k.y+_e,cr=pe+H,Br=vr+F,rt=Math.max(pe,Oe.left),tt=Math.max(vr,Oe.top),at=Math.min(cr,Oe.right),nt=Math.min(Br,Oe.bottom);return Math.max(0,(at-rt)*(nt-tt))},zr=function(){De=k.y+$,Re=De+F,ke=k.x+W,Ke=ke+H};var R,M,v=t,B=v.ownerDocument,q=hr(v),J=q.getComputedStyle(v),X=J.width,ee=J.height,V=J.position,_=v.style.left,fe=v.style.top,de=v.style.right,le=v.style.bottom,j=U(U({},n[o]),i),x=B.createElement("div");(R=v.parentElement)===null||R===void 0||R.appendChild(x),x.style.left="".concat(v.offsetLeft,"px"),x.style.top="".concat(v.offsetTop,"px"),x.style.position=V,x.style.height="".concat(v.offsetHeight,"px"),x.style.width="".concat(v.offsetWidth,"px"),v.style.left="0",v.style.top="0",v.style.right="auto",v.style.bottom="auto";var b;if(Array.isArray(r))b={x:r[0],y:r[1],width:0,height:0};else{var G=r.getBoundingClientRect();b={x:G.x,y:G.y,width:G.width,height:G.height}}var k=v.getBoundingClientRect(),K=B.documentElement,tr=K.clientWidth,re=K.clientHeight,ar=K.scrollWidth,Fe=K.scrollHeight,se=K.scrollTop,Ae=K.scrollLeft,F=k.height,H=k.width,te=b.height,ve=b.width,Ue={left:0,top:0,right:tr,bottom:re},qe={left:-Ae,top:-se,right:ar-Ae,bottom:Fe-se},me=j.htmlRegion,Z="visible",je="visibleFirst";me!=="scroll"&&me!==je&&(me=Z);var ae=me===je,he=St(qe,C),S=St(Ue,C),Qe=me===Z?S:he,ge=ae?S:Qe;v.style.left="auto",v.style.top="auto",v.style.right="0",v.style.bottom="0";var ce=v.getBoundingClientRect();v.style.left=_,v.style.top=fe,v.style.right=de,v.style.bottom=le,(M=v.parentElement)===null||M===void 0||M.removeChild(x);var Ee=mr(Math.round(H/parseFloat(X)*1e3)/1e3),Ne=mr(Math.round(F/parseFloat(ee)*1e3)/1e3);if(Ee===0||Ne===0||ut(r)&&!Bt(r))return;var Fr=j.offset,gr=j.targetOffset,ne=Pt(k,Fr),yr=w(ne,2),oe=yr[0],ie=yr[1],Cr=Pt(b,gr),ue=w(Cr,2),Ar=ue[0],Mr=ue[1];b.x-=Ar,b.y-=Mr;var Ur=j.points||[],xe=w(Ur,2),O=xe[0],we=xe[1],ye=Dt(we),Y=Dt(O),br=er(b,ye),Sr=er(k,Y),Ce=U({},j),W=br.x-Sr.x+oe,$=br.y-Sr.y+ie,E=p(W,$),Je=p(W,$,S),Pe=er(b,["t","l"]),nr=er(k,["t","l"]),or=er(b,["b","r"]),ir=er(k,["b","r"]),Q=j.overflow||{},qr=Q.adjustX,wr=Q.adjustY,Ge=Q.shiftX,ur=Q.shiftY,Pr=function(_e){return typeof _e=="boolean"?_e:_e>=0},De,Re,ke,Ke;zr();var lr=Pr(wr),sr=Y[0]===ye[0];if(lr&&Y[0]==="t"&&(Re>ge.bottom||f.current.bt)){var We=$;sr?We-=F-te:We=Pe.y-ir.y-ie;var ze=p(W,We),jr=p(W,We,S);ze>E||ze===E&&(!ae||jr>=Je)?(f.current.bt=!0,$=We,ie=-ie,Ce.points=[Te(Y,0),Te(ye,0)]):f.current.bt=!1}if(lr&&Y[0]==="b"&&(De<ge.top||f.current.tb)){var I=$;sr?I+=F-te:I=or.y-nr.y-ie;var Dr=p(W,I),Qr=p(W,I,S);Dr>E||Dr===E&&(!ae||Qr>=Je)?(f.current.tb=!0,$=I,ie=-ie,Ce.points=[Te(Y,0),Te(ye,0)]):f.current.tb=!1}var Rr=Pr(qr),kr=Y[1]===ye[1];if(Rr&&Y[1]==="l"&&(Ke>ge.right||f.current.rl)){var Be=W;kr?Be-=H-ve:Be=Pe.x-ir.x-oe;var Lr=p(Be,$),Jr=p(Be,$,S);Lr>E||Lr===E&&(!ae||Jr>=Je)?(f.current.rl=!0,W=Be,oe=-oe,Ce.points=[Te(Y,1),Te(ye,1)]):f.current.rl=!1}if(Rr&&Y[1]==="r"&&(ke<ge.left||f.current.lr)){var He=W;kr?He+=H-ve:He=or.x-nr.x-oe;var Tr=p(He,$),Ze=p(He,$,S);Tr>E||Tr===E&&(!ae||Ze>=Je)?(f.current.lr=!0,W=He,oe=-oe,Ce.points=[Te(Y,1),Te(ye,1)]):f.current.lr=!1}zr();var Me=Ge===!0?0:Ge;typeof Me=="number"&&(ke<S.left&&(W-=ke-S.left-oe,b.x+ve<S.left+Me&&(W+=b.x-S.left+ve-Me)),Ke>S.right&&(W-=Ke-S.right-oe,b.x>S.right-Me&&(W+=b.x-S.right+Me)));var Ie=ur===!0?0:ur;typeof Ie=="number"&&(De<S.top&&($-=De-S.top-ie,b.y+te<S.top+Ie&&($+=b.y-S.top+te-Ie)),Re>S.bottom&&($-=Re-S.bottom-ie,b.y>S.bottom-Ie&&($+=b.y-S.bottom+Ie)));var Ye=k.x+W,Xe=Ye+H,be=k.y+$,$r=be+F,Ve=b.x,Le=Ve+ve,Er=b.y,Gr=Er+te,Kr=Math.max(Ye,Ve),Nr=Math.min(Xe,Le),Zr=(Kr+Nr)/2,Yr=Zr-Ye,Xr=Math.max(be,Er),xr=Math.min($r,Gr),Or=(Xr+xr)/2,pr=Or-be;l==null||l(t,Ce);var Wr=ce.right-k.x-(W+k.width),et=ce.bottom-k.y-($+k.height);y({ready:!0,offsetX:W/Ee,offsetY:$/Ne,offsetR:Wr/Ee,offsetB:et/Ne,arrowX:Yr/Ee,arrowY:pr/Ne,scaleX:Ee,scaleY:Ne,align:Ce})}}),D=function(){c.current+=1;var M=c.current;Promise.resolve().then(function(){c.current===M&&P()})},N=function(){y(function(M){return U(U({},M),{},{ready:!1})})};return A(N,[o]),A(function(){e||N()},[e]),[d.ready,d.offsetX,d.offsetY,d.offsetR,d.offsetB,d.arrowX,d.arrowY,d.scaleX,d.scaleY,d.align,D]}function pt(e,t,r,o,n){A(function(){if(e&&t&&r){let c=function(){o(),n()};var i=t,l=r,s=st(i),h=st(l),d=hr(l),y=new Set([d].concat(it(s),it(h)));return y.forEach(function(C){C.addEventListener("scroll",c,{passive:!0})}),d.addEventListener("resize",c,{passive:!0}),o(),function(){y.forEach(function(C){C.removeEventListener("scroll",c),d.removeEventListener("resize",c)})}}},[e,t,r])}function ea(e,t,r,o,n,i,l,s){var h=a.useRef(e),d=a.useRef(!1);h.current!==e&&(d.current=!0,h.current=e),a.useEffect(function(){var y=dt(function(){d.current=!1});return function(){dt.cancel(y)}},[e]),a.useEffect(function(){if(t&&o&&(!n||i)){var y=function(){var q=!1,J=function(V){var _=V.target;q=l(_)},X=function(V){var _=V.target;!d.current&&h.current&&!q&&!l(_)&&s(!1)};return[J,X]},c=y(),C=w(c,2),f=C[0],g=C[1],P=y(),D=w(P,2),N=D[0],R=D[1],M=hr(o);M.addEventListener("mousedown",f,!0),M.addEventListener("click",g,!0),M.addEventListener("contextmenu",g,!0);var v=lt(r);return v&&(v.addEventListener("mousedown",N,!0),v.addEventListener("click",R,!0),v.addEventListener("contextmenu",R,!0)),function(){M.removeEventListener("mousedown",f,!0),M.removeEventListener("click",g,!0),M.removeEventListener("contextmenu",g,!0),v&&(v.removeEventListener("mousedown",N,!0),v.removeEventListener("click",R,!0),v.removeEventListener("contextmenu",R,!0))}}},[t,r,o,n,i])}var ra=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function ta(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$t,t=a.forwardRef(function(r,o){var n=r.prefixCls,i=n===void 0?"rc-trigger-popup":n,l=r.children,s=r.action,h=s===void 0?"hover":s,d=r.showAction,y=r.hideAction,c=r.popupVisible,C=r.defaultPopupVisible,f=r.onPopupVisibleChange,g=r.afterPopupVisibleChange,P=r.mouseEnterDelay,D=r.mouseLeaveDelay,N=D===void 0?.1:D,R=r.focusDelay,M=r.blurDelay,v=r.mask,B=r.maskClosable,q=B===void 0?!0:B,J=r.getPopupContainer,X=r.forceRender,ee=r.autoDestroy,V=r.destroyPopupOnHide,_=r.popup,fe=r.popupClassName,de=r.popupStyle,le=r.popupPlacement,j=r.builtinPlacements,x=j===void 0?{}:j,b=r.popupAlign,G=r.zIndex,k=r.stretch,K=r.getPopupClassNameFromAlign,tr=r.fresh,re=r.alignPoint,ar=r.onPopupClick,Fe=r.onPopupAlign,se=r.arrow,Ae=r.popupMotion,F=r.maskMotion,H=r.popupTransitionName,te=r.popupAnimation,ve=r.maskTransitionName,Ue=r.maskAnimation,qe=r.className,me=r.getTriggerDOMNode,Z=Et(r,ra),je=ee||V||!1,ae=a.useState(!1),he=w(ae,2),S=he[0],Qe=he[1];A(function(){Qe(Ht())},[]);var ge=a.useRef({}),ce=a.useContext(Ct),Ee=a.useMemo(function(){return{registerSubPopup:function(m,L){ge.current[m]=L,ce==null||ce.registerSubPopup(m,L)}}},[ce]),Ne=It(),Fr=a.useState(null),gr=w(Fr,2),ne=gr[0],yr=gr[1],oe=$e(function(u){ut(u)&&ne!==u&&yr(u),ce==null||ce.registerSubPopup(Ne,u)}),ie=a.useState(null),Cr=w(ie,2),ue=Cr[0],Ar=Cr[1],Mr=a.useRef(null),Ur=$e(function(u){ut(u)&&ue!==u&&(Ar(u),Mr.current=u)}),xe=a.Children.only(l),O=(xe==null?void 0:xe.props)||{},we={},ye=$e(function(u){var m,L,z=ue;return(z==null?void 0:z.contains(u))||((m=lt(z))===null||m===void 0?void 0:m.host)===u||u===z||(ne==null?void 0:ne.contains(u))||((L=lt(ne))===null||L===void 0?void 0:L.host)===u||u===ne||Object.values(ge.current).some(function(T){return(T==null?void 0:T.contains(u))||u===T})}),Y=bt(i,Ae,te,H),br=bt(i,F,Ue,ve),Sr=a.useState(C||!1),Ce=w(Sr,2),W=Ce[0],$=Ce[1],E=c??W,Je=$e(function(u){c===void 0&&$(u)});A(function(){$(c||!1)},[c]);var Pe=a.useRef(E);Pe.current=E;var nr=$e(function(u){vt.flushSync(function(){E!==u&&(Je(u),f==null||f(u))})}),or=a.useRef(),ir=function(){clearTimeout(or.current)},Q=function(m){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ir(),L===0?nr(m):or.current=setTimeout(function(){nr(m)},L*1e3)};a.useEffect(function(){return ir},[]);var qr=a.useState(!1),wr=w(qr,2),Ge=wr[0],ur=wr[1];A(function(u){(!u||E)&&ur(!0)},[E]);var Pr=a.useState(null),De=w(Pr,2),Re=De[0],ke=De[1],Ke=a.useState([0,0]),lr=w(Ke,2),sr=lr[0],We=lr[1],ze=function(m){We([m.clientX,m.clientY])},jr=Ot(E,ne,re?sr:ue,le,x,b,Fe),I=w(jr,11),Dr=I[0],Qr=I[1],Rr=I[2],kr=I[3],Be=I[4],Lr=I[5],Jr=I[6],He=I[7],Tr=I[8],Ze=I[9],Me=I[10],Ie=Zt(S,h,d,y),Ye=w(Ie,2),Xe=Ye[0],be=Ye[1],$r=Xe.has("click"),Ve=be.has("click")||be.has("contextMenu"),Le=$e(function(){Ge||Me()}),Er=function(){Pe.current&&re&&Ve&&Q(!1)};pt(E,ue,ne,Le,Er),A(function(){Le()},[sr,le]),A(function(){E&&!(x!=null&&x[le])&&Le()},[JSON.stringify(b)]);var Gr=a.useMemo(function(){var u=Xt(x,i,Ze,re);return rr(u,K==null?void 0:K(Ze))},[Ze,K,x,i,re]);a.useImperativeHandle(o,function(){return{nativeElement:Mr.current,forceAlign:Le}});var Kr=a.useState(0),Nr=w(Kr,2),Zr=Nr[0],Yr=Nr[1],Xr=a.useState(0),xr=w(Xr,2),Or=xr[0],pr=xr[1],Wr=function(){if(k&&ue){var m=ue.getBoundingClientRect();Yr(m.width),pr(m.height)}},et=function(){Wr(),Le()},p=function(m){ur(!1),Me(),g==null||g(m)},zr=function(){return new Promise(function(m){Wr(),ke(function(){return m})})};A(function(){Re&&(Me(),Re(),ke(null))},[Re]);function Se(u,m,L,z){we[u]=function(T){var Hr;z==null||z(T),Q(m,L);for(var ot=arguments.length,ct=new Array(ot>1?ot-1:0),Ir=1;Ir<ot;Ir++)ct[Ir-1]=arguments[Ir];(Hr=O[u])===null||Hr===void 0||Hr.call.apply(Hr,[O,T].concat(ct))}}($r||Ve)&&(we.onClick=function(u){var m;Pe.current&&Ve?Q(!1):!Pe.current&&$r&&(ze(u),Q(!0));for(var L=arguments.length,z=new Array(L>1?L-1:0),T=1;T<L;T++)z[T-1]=arguments[T];(m=O.onClick)===null||m===void 0||m.call.apply(m,[O,u].concat(z))}),ea(E,Ve,ue,ne,v,q,ye,Q);var _e=Xe.has("hover"),Oe=be.has("hover"),pe,vr;_e&&(Se("onMouseEnter",!0,P,function(u){ze(u)}),Se("onPointerEnter",!0,P,function(u){ze(u)}),pe=function(){(E||Ge)&&Q(!0,P)},re&&(we.onMouseMove=function(u){var m;(m=O.onMouseMove)===null||m===void 0||m.call(O,u)})),Oe&&(Se("onMouseLeave",!1,N),Se("onPointerLeave",!1,N),vr=function(){Q(!1,N)}),Xe.has("focus")&&Se("onFocus",!0,R),be.has("focus")&&Se("onBlur",!1,M),Xe.has("contextMenu")&&(we.onContextMenu=function(u){var m;Pe.current&&be.has("contextMenu")?Q(!1):(ze(u),Q(!0)),u.preventDefault();for(var L=arguments.length,z=new Array(L>1?L-1:0),T=1;T<L;T++)z[T-1]=arguments[T];(m=O.onContextMenu)===null||m===void 0||m.call.apply(m,[O,u].concat(z))}),qe&&(we.className=rr(O.className,qe));var cr=U(U({},O),we),Br={},rt=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];rt.forEach(function(u){Z[u]&&(Br[u]=function(){for(var m,L=arguments.length,z=new Array(L),T=0;T<L;T++)z[T]=arguments[T];(m=cr[u])===null||m===void 0||m.call.apply(m,[cr].concat(z)),Z[u].apply(Z,z)})});var tt=a.cloneElement(xe,U(U({},cr),Br)),at={x:Lr,y:Jr},nt=se?U({},se!==!0?se:{}):null;return a.createElement(a.Fragment,null,a.createElement(kt,{disabled:!E,ref:Ur,onResize:et},a.createElement(Kt,{getTriggerDOMNode:me},tt)),a.createElement(Ct.Provider,{value:Ee},a.createElement(Gt,{portal:e,ref:oe,prefixCls:i,popup:_,className:rr(fe,Gr),style:de,target:ue,onMouseEnter:pe,onMouseLeave:vr,onPointerEnter:pe,zIndex:G,open:E,keepDom:Ge,fresh:tr,onClick:ar,mask:v,motion:Y,maskMotion:br,onVisibleChanged:p,onPrepare:zr,forceRender:X,autoDestroy:je,getPopupContainer:J,align:Ze,arrow:nt,arrowPos:at,ready:Dr,offsetX:Qr,offsetY:Rr,offsetR:kr,offsetB:Be,onAlign:Le,stretch:k,targetWidth:Zr/He,targetHeight:Or/Tr})))});return t}const va=ta($t);function ca(e){var t=a.createContext(void 0),r=function(n){var i=n.value,l=n.children,s=a.useRef(i);s.current=i;var h=a.useState(function(){return{getValue:function(){return s.current},listeners:new Set}}),d=w(h,1),y=d[0];return A(function(){vt.unstable_batchedUpdates(function(){y.listeners.forEach(function(c){c(i)})})},[i]),a.createElement(t.Provider,{value:y},l)};return{Context:t,Provider:r,defaultValue:e}}function fa(e,t){var r=$e(typeof t=="function"?t:function(c){if(t===void 0)return c;if(!Array.isArray(t))return c[t];var C={};return t.forEach(function(f){C[f]=c[f]}),C}),o=a.useContext(e==null?void 0:e.Context),n=o||{},i=n.listeners,l=n.getValue,s=a.useRef();s.current=r(o?l():e==null?void 0:e.defaultValue);var h=a.useState({}),d=w(h,2),y=d[1];return A(function(){if(!o)return;function c(C){var f=r(C);Vt(s.current,f,!0)||y({})}return i.add(c),function(){i.delete(c)}},[o]),s.current}function da(){var e=a.createContext(null);function t(){return a.useContext(e)}function r(n,i){var l=_r(n),s=function(d,y){var c=l?{ref:y}:{},C=a.useRef(0),f=a.useRef(d),g=t();return g!==null?a.createElement(n,dr({},d,c)):((!i||i(f.current,d))&&(C.current+=1),f.current=d,a.createElement(e.Provider,{value:C.current},a.createElement(n,dr({},d,c))))};return l?a.forwardRef(s):s}function o(n,i){var l=_r(n),s=function(d,y){var c=l?{ref:y}:{};return t(),a.createElement(n,dr({},d,c))};return l?a.memo(a.forwardRef(s),i):a.memo(s,i)}return{makeImmutable:r,responseImmutable:o,useImmutableMark:t}}export{va as T,ca as a,da as c,fa as u};
